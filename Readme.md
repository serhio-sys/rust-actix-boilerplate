# Rust Actix + Diesel with PostgreSQL Boilerplate

This is a boilerplate for building a simple application using **Rust** with the **Actix** web framework, **Diesel** as the ORM, and **PostgreSQL** as the database. The boilerplate includes basic **JWT Authentication** and **CRUD** operations for the `user` model.

## Boilerplate structure:

- **Model**: Represents the structure of the data in the database.
- **Repository**: Handles all database interactions and queries.
- **Service**: Contains the business logic of the application.
- **Controller**: Manages incoming requests and responses.
- **Route**: Defines the application's API endpoints.
- **Server**: Bootstraps the web server and runs the application.

---

## diesel.toml

In this file contains configurations for diesel cli.
More interested here these lines: 
```
[migrations_directory]
dir = "internal/infra/database/migrations"
```
This `dir` is a location of all migrations that should be generated by diesel cli command: `diesel migration generate <name_of_migration>`.

### Getting Started without Docker:

To run the application locally without Docker, follow these steps:

- Set up your local PostgreSQL database.
    - Make sure PostgreSQL is installed and running on your machine.
    - Create a new database for the application.
- Rename the environment file .env.example -> .env.
    - Edit the .env file and update the environment variables with your PostgreSQL configuration.
- Then just simply use command: `cargo run --package rust-actix-boilerplaite --bin server`. (Assuming the Cargo.toml configuration has not been modified).

### Getting Started (Docker Version)

- Set up docker on your machine.
- Rename the environment files
    - Rename .docker/.app.env.example to .docker/.app.env.
    - Rename .docker/.db.env.example to .docker/.db.env.
    - Edit these .env files to configure the application and PostgreSQL database credentials.
- Run Docker Compose
    - Navigate to the .docker directory: `cd .docker`
    - Run the application using Docker Compose: `docker compose up` | `docker-compose up` Or to run it in detached mode: `docker compose up -d` | `docker-compose up -d`